@model IEnumerable<project5_voting.Models.Contact>

@{
    ViewBag.Title = "AdminContact";
}

<h2>Admin Contact</h2>

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.email)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.date)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.time)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.subject)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.message)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.status)
        </th>
      
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.email)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.date)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.time)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.subject)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.message)
        </td>

        @{
            if (item.status == 0)
            {
                <td class="text-danger">
                    Incomplete
                </td>
            }
            else
            {
                <td class="text-success">
                    Completed
                </td>
            }
        }
        
       
        <td>
            @if (item.status == 0)
            {
                @Html.ActionLink("Reply", "Response", new { id = item.id }, new { @class = "btn btn-info ml-1" })
            }
            else
            {
                <button class="btn btn-info" onclick="displayAlert()">Reply</button>
            }

            @Html.ActionLink("Details", "ContactDetails", new { id = item.id }, new { @class = "btn btn-secondary ml-1" })


            <a href="@Url.Action("Delete", new { id = item.id })">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-trash text-danger" viewBox="0 0 16 16">
                    <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z" />
                    <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z" />
                </svg>
            </a>
        </td>
    </tr>
}

</table>

<script type="text/javascript">
    function displayAlert() {
        Swal.fire("it was responsed on this message!");
    }
</script>
